{"ast":null,"code":"import _regeneratorRuntime from\"D:/Git_Hub/JMEDUSERVER/react/sources/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Git_Hub/JMEDUSERVER/react/sources/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Git_Hub/JMEDUSERVER/react/sources/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Button from\"../../Components/ButtonTop\";import axios from\"axios\";import ModalInputBox from\"../../Components/modal_input/register_input\";import{Toast,notify}from\"../../template/Toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function RegisterPage(){// 상태 관리를 위한 useState 훅\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),sexIsm=_useState8[0],setSexIsm=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),birthday=_useState10[0],setBirthday=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),contact=_useState12[0],setContact=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isAdmin=_useState14[0],setIsAdmin=_useState14[1];function loging(){if(!name||!id||!password||sexIsm===null||!birthday||!contact){notify({type:\"error\",text:\"모든 필드를 채워주세요.\"});return;}handleSubmit();}// 폼 제출 핸들러\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var YYYY,MM,DD,birthday_converted,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// POST 요청을 통한 회원가입 데이터 전송\nYYYY=birthday.substring(0,4);MM=birthday.substring(4,6);DD=birthday.substring(6,8);birthday_converted=YYYY+\"-\"+MM+\"-\"+DD;console.log(birthday_converted);_context.next=8;return axios.post(\"\".concat(process.env.REACT_APP_SERVER_URL,\"/server/register\"),{name:name,id:id,pwd:password,sex_ism:sexIsm,birthday:birthday_converted,contact:contact,is_admin:isAdmin},{headers:{'Content-Type':'application/json; charset=utf-8'}});case 8:response=_context.sent;notify({type:\"success\",text:\"전송성공.\"});console.log(response.data);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);notify({type:\"error\",text:\"에러 발생.\"});console.error(\"등록 중 오류 발생:\",_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-[100vw] h-[100vh] top-0 left-0 bg-black opacity-50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-[100vw] h-[100vh] top-0 left-0 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-[450px] bg-white rounded-lg shadow-2xl pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-4 pr-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fontA text-3xl pl-9 pt-2\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(Button,{label:\"X\",width:50,URL:\"/student\",bgColor:\"5272F2\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(ModalInputBox,{label:\"이름\",data:name,edit:setName}),/*#__PURE__*/_jsx(ModalInputBox,{label:\"아이디\",data:id,edit:setId}),/*#__PURE__*/_jsx(ModalInputBox,{label:\"비밀번호\",data:password,edit:setPassword}),/*#__PURE__*/_jsx(ModalInputBox,{label:\"성별\",data:sexIsm,edit:setSexIsm,type:\"radioButton\"}),/*#__PURE__*/_jsx(ModalInputBox,{label:\"생일 (8자리)\",data:birthday,edit:setBirthday}),/*#__PURE__*/_jsx(ModalInputBox,{label:\"연락처 ('-' 없이 작성해주세요.)\",data:contact,edit:setContact}),/*#__PURE__*/_jsx(ModalInputBox,{label:\"관리자 여부\",data:isAdmin,edit:setIsAdmin,type:\"checkBox\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-evenly pt-6\",children:[/*#__PURE__*/_jsx(Button,{label:\"뒤로 가기\",width:80,URL:\"/sign-in\"}),/*#__PURE__*/_jsx(Button,{label:\"신규등록\",width:80,onClick:loging})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-extrabold pt-3 text-center\",children:\"\\uC774\\uD6C4 \\uAD50\\uC9C1\\uC6D0 \\uAD00\\uB9AC \\uD398\\uC774\\uC9C0\\uC5D0\\uC11C \\uC218\\uC815 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"})]})})]})}),/*#__PURE__*/_jsx(Toast,{})]});}","map":{"version":3,"names":["React","useState","Button","axios","ModalInputBox","Toast","notify","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterPage","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","id","setId","_useState5","_useState6","password","setPassword","_useState7","_useState8","sexIsm","setSexIsm","_useState9","_useState10","birthday","setBirthday","_useState11","_useState12","contact","setContact","_useState13","_useState14","isAdmin","setIsAdmin","loging","type","text","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","YYYY","MM","DD","birthday_converted","response","wrap","_callee$","_context","prev","next","substring","console","log","post","concat","process","env","REACT_APP_SERVER_URL","pwd","sex_ism","is_admin","headers","sent","data","t0","error","stop","_x","apply","arguments","children","className","label","width","URL","bgColor","edit","onClick"],"sources":["D:/Git_Hub/JMEDUSERVER/react/sources/src/pages/register/register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Button from \"../../Components/ButtonTop\";\nimport axios from \"axios\";\nimport ModalInputBox from \"../../Components/modal_input/register_input\";\nimport { Toast, notify } from \"../../template/Toastify\";\n\nexport default function RegisterPage() {\n  // 상태 관리를 위한 useState 훅\n  const [name, setName] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [sexIsm, setSexIsm] = useState(false);\n  const [birthday, setBirthday] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  function loging() {\n    if (!name || !id || !password || sexIsm === null || !birthday || !contact) {\n      notify({\n        type: \"error\",\n        text: \"모든 필드를 채워주세요.\",\n      });\n      return;\n    }\n    handleSubmit();\n  }\n\n  // 폼 제출 핸들러\n  const handleSubmit = async (e) => {\n    try {\n      // POST 요청을 통한 회원가입 데이터 전송\n      const YYYY = birthday.substring(0, 4);\n      const MM = birthday.substring(4, 6);\n      const DD = birthday.substring(6, 8);\n      const birthday_converted = YYYY + \"-\" + MM + \"-\" + DD;\n      console.log(birthday_converted);\n      const response = await axios.post(`${process.env.REACT_APP_SERVER_URL}/server/register`, {\n        name,\n        id,\n        pwd: password,\n        sex_ism: sexIsm,\n        birthday: birthday_converted,\n        contact,\n        is_admin: isAdmin,\n      },{headers: {'Content-Type': 'application/json; charset=utf-8'}});\n      notify({\n        type: \"success\",\n        text: \"전송성공.\",\n      });\n      console.log(response.data);\n    } catch (error) {\n      notify({\n        type: \"error\",\n        text: \"에러 발생.\",\n      });\n      console.error(\"등록 중 오류 발생:\", error);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"absolute w-[100vw] h-[100vh] top-0 left-0 bg-black opacity-50\" />\n      <div className=\"absolute w-[100vw] h-[100vh] top-0 left-0 flex justify-center items-center\">\n        <div className=\"w-[450px] bg-white rounded-lg shadow-2xl pb-4\">\n          <div className=\"flex justify-between pt-4 pr-4\">\n            <span className=\"fontA text-3xl pl-9 pt-2\">회원가입</span>\n            <Button\n              label={\"X\"}\n              width={50}\n              URL={\"/student\"}\n              bgColor={\"5272F2\"}\n            />\n          </div>\n          <div className=\"flex justify-center\">\n            <div className=\"flex flex-col\">\n              <ModalInputBox label={\"이름\"} data={name} edit={setName} />\n              <ModalInputBox label={\"아이디\"} data={id} edit={setId} />\n              <ModalInputBox\n                label={\"비밀번호\"}\n                data={password}\n                edit={setPassword}\n              />\n              <ModalInputBox\n                label={\"성별\"}\n                data={sexIsm}\n                edit={setSexIsm}\n                type={\"radioButton\"}\n              />\n              <ModalInputBox\n                label={\"생일 (8자리)\"}\n                data={birthday}\n                edit={setBirthday}\n              />\n              <ModalInputBox\n                label={\"연락처 ('-' 없이 작성해주세요.)\"}\n                data={contact}\n                edit={setContact}\n              />\n              <ModalInputBox\n                label={\"관리자 여부\"}\n                data={isAdmin}\n                edit={setIsAdmin}\n                type={\"checkBox\"}\n              />\n\n              <div className=\"flex justify-evenly pt-6\">\n                <Button label={\"뒤로 가기\"} width={80} URL={\"/sign-in\"} />\n                <Button label={\"신규등록\"} width={80} onClick={loging} />\n              </div>\n              <span className=\"text-xs font-extrabold pt-3 text-center\">\n                이후 교직원 관리 페이지에서 수정 가능합니다.\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Toast />\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}